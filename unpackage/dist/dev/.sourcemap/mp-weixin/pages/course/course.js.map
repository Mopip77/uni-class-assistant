{"version":3,"sources":["webpack:////Users/mopip77/project/uniapp/graduation-proj/graduation-proj/pages/course/course.vue?f7c1","webpack:////Users/mopip77/project/uniapp/graduation-proj/graduation-proj/pages/course/course.vue?50fa","webpack:////Users/mopip77/project/uniapp/graduation-proj/graduation-proj/main.js","webpack:////Users/mopip77/project/uniapp/graduation-proj/graduation-proj/pages/course/course.vue?569e","webpack:////Users/mopip77/project/uniapp/graduation-proj/graduation-proj/pages/course/course.vue?bee4","webpack:////Users/mopip77/project/uniapp/graduation-proj/graduation-proj/pages/course/course.vue?e0bd","webpack:////Users/mopip77/project/uniapp/graduation-proj/graduation-proj/pages/course/course.vue?a8ed","webpack:////Users/mopip77/project/uniapp/graduation-proj/graduation-proj/pages/course/course.vue"],"names":["createPage","Page","components","lFile","SingleSubmitPopup","UniLoadMore","STabs","STab","Tag","Grid","GridItem","VanNotify","Icon","Button","Steps","data","refreshOnShow","modalTitle","modalFieldName","modalPlaceHolder","modalSubmitText","userId","course","resourceSelectIndex","datas","offsets","counts","onloadingStatuses","onloadingTexts","contentdown","contentrefresh","contentnomore","newResourceMap","title","newResourceIdx","showModal","methods","loadMore","idx","console","log","length","getBulletins","getCourseWare","getContestsByCourseId","getClass","push","closeModal","createNewResourceBtn","uni","showActionSheet","itemList","map","e","success","res","tapIndex","navigateTo","url","id","upSuccess","resp","HttpCommons","successCheck","type","message","splice","submitCallBack","content","that","promise","BulletinUtils","createBulletin","then","$refs","upload","ApiReference","UPLOAD_COURSE_WARE","name","header","getAuthenticationHeader","formData","JSON","stringify","displayName","courseId","changeResourceTab","goToContest","contest","status","Date","publishDate","published","goToClass","goToCourseWare","courseWare","Promise","resolve","reject","listBulletin","forEach","Utils","dateConverterBatch","text","desc","createGmt","ContestUtils","getContestByCourseId","CourseWareUtils","getCourseWareByCourseId","ClassUtils","getClassByCourseId","onLoad","option","parseInt","getStorageSync","LSReference","ID","CourseUtils","getCourse","onShow"],"mappings":"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","file":"pages/course/course.js","sourcesContent":["import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./course.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./course.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1588064384791\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/course/course.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./course.vue?vue&type=template&id=44b246f6&\"\nvar renderjs\nimport script from \"./course.vue?vue&type=script&lang=js&\"\nexport * from \"./course.vue?vue&type=script&lang=js&\"\nimport style0 from \"./course.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Users/mopip77/project/uniapp/graduation-proj/graduation-proj/pages/course/course.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./course.vue?vue&type=template&id=44b246f6&\"","var components = {\n  \"l-file\": function() {\n    return import(\n      /* webpackChunkName: \"components/l-file/l-file\" */ \"@/components/l-file/l-file.vue\"\n    )\n  },\n  \"uni-load-more\": function() {\n    return import(\n      /* webpackChunkName: \"components/uni-load-more/uni-load-more\" */ \"@/components/uni-load-more/uni-load-more.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./course.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./course.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Grid from \"@/wxcomponents/vant/dist/grid/index.js\";\nimport GridItem from \"@/wxcomponents/vant/dist/grid-item/index.js\";\nimport VanNotify from \"@/wxcomponents/vant/dist/notify/index.js\";\nimport Notify from \"@/wxcomponents/vant/dist/notify/notify.js\";\nimport Icon from \"@/wxcomponents/vant/dist/icon/index.js\";\nimport Button from \"@/wxcomponents/vant/dist/button/index.js\";\nimport Steps from \"@/wxcomponents/vant/dist/steps/index.js\";\nimport Tag from '@/wxcomponents/vant/dist/tag/index.js'\n\nimport ClassUtils from '@/static/js/class.js';\nimport CourseWareUtils from '@/static/js/course_ware.js'\nimport CourseUtils from \"@/static/js/course.js\";\nimport BulletinUtils from \"@/static/js/bulletin.js\";\nimport Utils from \"@/static/js/utils.js\";\nimport LSReference from '@/static/js/local_storage_reference.js';\nimport ContestUtils from '@/static/js/contest.js'\nimport HttpCommons from '@/static/js/http_commons.js'\nimport ApiReference from '@/static/js/api_reference.js'\n\nimport lFile from '@/components/l-file/l-file.vue';\nimport SingleSubmitPopup from \"@/components/SingleSubmitPopup.vue\";\nimport UniLoadMore from \"@/components/uni-load-more/uni-load-more.vue\";\nimport STabs from \"@/components/s-tabs/index.vue\";\nimport STab from \"@/components/s-tab/index.vue\";\n\nexport default {\n\tcomponents: {\n\t\tlFile,\n\t\tSingleSubmitPopup,\n\t\tUniLoadMore,\n\t\tSTabs,\n\t\tSTab,\n\t\t\"van-tag\": Tag,\n\t\t\"van-grid\": Grid,\n\t\t\"van-grid-item\": GridItem,\n\t\t\"van-notify\": VanNotify,\n\t\t\"van-icon\": Icon,\n\t\t\"van-button\": Button,\n\t\t\"van-steps\": Steps\n\t},\n\tdata() {\n\t\treturn {\n\t\t\t// 从其他页面回退回来，是否需要刷新本页，在其他页面回退之前通过page更改，刷新完再置回false\n\t\t\trefreshOnShow: false,\n\n\t\t\t// modalParams\n\t\t\tmodalTitle: '',\n\t\t\tmodalFieldName: '',\n\t\t\tmodalPlaceHolder: '',\n\t\t\tmodalSubmitText: '',\n\n\t\t\t// 该页面加载内容\n\t\t\tuserId: 0,\n\t\t\tcourse: {},\n\t\t\tresourceSelectIndex: 0,\n\t\t\tdatas: [\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[]\n\t\t\t],\n\t\t\toffsets: [0, 0, 0, 0],\n\t\t\tcounts: [10, 10, 10, 10],\n\t\t\tonloadingStatuses: [\"more\", \"more\", \"more\", \"more\"],\n\t\t\tonloadingTexts: [{\n\t\t\t\t\tcontentdown: \"点击加载更多公告\",\n\t\t\t\t\tcontentrefresh: \"加载中...\",\n\t\t\t\t\tcontentnomore: \"没有更多公告了\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcontentdown: \"点击加载更多课件\",\n\t\t\t\t\tcontentrefresh: \"加载中...\",\n\t\t\t\t\tcontentnomore: \"没有更多课件了\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcontentdown: \"点击加载更多试卷\",\n\t\t\t\t\tcontentrefresh: \"加载中...\",\n\t\t\t\t\tcontentnomore: \"没有更多试卷了\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcontentdown: \"点击加载更多课堂\",\n\t\t\t\t\tcontentrefresh: \"加载中...\",\n\t\t\t\t\tcontentnomore: \"没有更多课堂了\"\n\t\t\t\t},\n\t\t\t],\n\n\t\t\t// 新建课程资源的相关内容\n\t\t\tnewResourceMap: [{\n\t\t\t\ttitle: \"新建课堂\"\n\t\t\t}, {\n\t\t\t\ttitle: \"发布课件\"\n\t\t\t}, {\n\t\t\t\ttitle: \"发布试卷\"\n\t\t\t}, {\n\t\t\t\ttitle: \"发布公告\"\n\t\t\t}, {\n\t\t\t\ttitle: \"发布通知\"\n\t\t\t}],\n\t\t\tnewResourceIdx: 0,\n\t\t\tshowModal: false,\n\t\t};\n\t},\n\tmethods: {\n\t\t// , 传入值分别为 \n\t\t/**\n\t\t * 四个tab公用一个loadMore加载函数\n\t\t */\n\t\tasync loadMore() {\n\t\t\t// 处理当前tab的loadmore, tab顺序为 公告，课件，试卷，课堂\n\t\t\tlet idx = this.resourceSelectIndex\n\t\t\tconsole.log(\"load more offset:\", this.offsets[idx]);\n\n\t\t\tif (this.offsets[idx] > this.datas[idx].length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.onloadingStatuses[idx] = \"loading\";\n\n\t\t\tlet data = []\n\t\t\tif (idx === 0) {\n\t\t\t\t// 加载公告\n\t\t\t\tdata = await this.getBulletins();\n\t\t\t\tconsole.log(\"获得公告\", data);\n\t\t\t} else if (idx === 1) {\n\t\t\t\t// 加载课件\n\t\t\t\tdata = await this.getCourseWare()\n\t\t\t\tconsole.log(\"获得课件\", data);\n\t\t\t} else if (idx === 2) {\n\t\t\t\t// 加载试卷\n\t\t\t\tdata = await this.getContestsByCourseId()\n\t\t\t\tconsole.log(\"获得试卷\", data);\n\t\t\t} else if (idx === 3) {\n\t\t\t\t// 加载课堂\n\t\t\t\tdata = await this.getClass()\n\t\t\t\tconsole.log(\"获得课堂\", data);\n\t\t\t}\n\n\t\t\tthis.datas[idx].push(...data)\n\n\t\t\t// 更新offset 和 onLoading 类型（是否有更多加载）\n\t\t\tthis.offsets[idx] += this.counts[idx];\n\t\t\tthis.onloadingStatuses[idx] = this.offsets[idx] === this.datas[idx].length ? \"more\" : \"noMore\";\n\t\t},\n\t\tcloseModal() {\n\t\t\tthis.showModal = false;\n\t\t},\n\t\t// 点击新建课程资源按钮\n\t\tcreateNewResourceBtn() {\n\t\t\tuni.showActionSheet({\n\t\t\t\titemList: this.newResourceMap.map(e => e[\"title\"]),\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tlet idx = res.tapIndex;\n\t\t\t\t\tthis.newResourceIdx = idx;\n\t\t\t\t\tif (idx >= this.newResourceMap.length) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// 使用统一modal创建简单内容\n\t\t\t\t\tif (idx === 4) {\n\t\t\t\t\t\t// 通知\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: '../create_notification/create_notification?courseId=' + this.course.id\n\t\t\t\t\t\t})\n\t\t\t\t\t} else if (idx === 3) {\n\t\t\t\t\t\t// 公告\n\t\t\t\t\t\tthis.modalTitle = '发布公告';\n\t\t\t\t\t\tthis.modalFieldName = '公告内容';\n\t\t\t\t\t\tthis.modalPlaceHolder = '请输入公告内容...';\n\t\t\t\t\t\tthis.modalSubmitText = '提交';\n\t\t\t\t\t\tthis.showModal = true;\n\t\t\t\t\t} else if (idx === 2) {\n\t\t\t\t\t\t// 试卷\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: '../create_contest/create_contest?courseId=' + this.course.id\n\t\t\t\t\t\t})\n\t\t\t\t\t} else if (idx === 1) {\n\t\t\t\t\t\t// PPT课件\n\t\t\t\t\t\tthis.modalTitle = '发布课件';\n\t\t\t\t\t\tthis.modalFieldName = '课件名';\n\t\t\t\t\t\tthis.modalPlaceHolder = '请输入课件名...';\n\t\t\t\t\t\tthis.modalSubmitText = '上传文件';\n\t\t\t\t\t\tthis.showModal = true;\n\t\t\t\t\t} else if (idx === 0) {\n\t\t\t\t\t\t// 课堂\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: '../create_class/create_class?courseId=' + this.course.id\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// 上传课件后的callback\n\t\tupSuccess(resp) {\n\t\t\tif (HttpCommons.successCheck(resp)) {\n\t\t\t\tNotify({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tmessage: '课件上传成功',\n\t\t\t\t});\n\n\t\t\t\t// 如果正好在课件tab，则刷新\n\t\t\t\tlet idx = this.resourceSelectIndex\n\t\t\t\tif (idx === 1) {\n\t\t\t\t\tthis.offsets[idx] = 0\n\t\t\t\t\tthis.datas[idx].splice(0)\n\t\t\t\t\tthis.loadMore()\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// popup提交的callback函数，提交完，如果当前tab正好是所提交的类型，则重置offset并刷新\n\t\tsubmitCallBack(content) {\n\t\t\tlet idx = this.newResourceIdx;\n\t\t\tlet that = this;\n\n\t\t\tif (idx === 3) {\n\t\t\t\t// 公告\n\t\t\t\tlet promise = BulletinUtils.createBulletin(that.course.id, content);\n\t\t\t\tpromise.then(data => {\n\t\t\t\t\tif (that.resourceSelectIndex === 0) {\n\t\t\t\t\t\t// 并且正好当前选择了公告tab\n\t\t\t\t\t\tthat.offsets[0] = 0\n\t\t\t\t\t\tthat.datas[0].splice(0)\n\t\t\t\t\t\tthat.loadMore();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (idx === 1) {\n\t\t\t\t// ppt\n\t\t\t\tthat.$refs.lFile.upload({\n\n\n\n\t\t\t\t\turl: ApiReference.UPLOAD_COURSE_WARE,\n\t\t\t\t\tname: 'file',\n\t\t\t\t\theader: HttpCommons.getAuthenticationHeader(),\n\t\t\t\t\tformData: JSON.stringify({\n\t\t\t\t\t\tdisplayName: content,\n\t\t\t\t\t\tcourseId: that.course.id\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t// 获取资源栏内容\n\t\tchangeResourceTab() {\n\t\t\t// 如果本tab没有任何内容(初次调用或本来就没有内容)，加载\n\t\t\tlet idx = this.resourceSelectIndex\n\t\t\tif (this.offsets[idx] === 0) {\n\t\t\t\tthis.loadMore()\n\t\t\t}\n\t\t},\n\n\t\t// 进入contest界面\n\t\tgoToContest(idx) {\n\t\t\tlet contest = this.datas[2][idx]\n\t\t\tif (contest.status === '未开始') {\n\t\t\t\t// 可能时间已经到了，还是要判断一下发布时间\n\t\t\t\tif (new Date() - new Date(contest.publishDate) < 0) {\n\t\t\t\t\tNotify({\n\t\t\t\t\t\ttype: 'danger',\n\t\t\t\t\t\tmessage: '测试还未开始'\n\t\t\t\t\t})\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else if (!contest.published) {\n\t\t\t\tNotify({\n\t\t\t\t\ttype: 'danger',\n\t\t\t\t\tmessage: '测试还未发布'\n\t\t\t\t})\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../contest/contest?contestId=' + contest.id\n\t\t\t})\n\t\t},\n\t\t\n\t\tgoToClass(idx) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../class/class?classId=' + this.datas[3][idx].id\n\t\t\t})\n\t\t},\n\n\t\t// 进入courseWare界面\n\t\tgoToCourseWare(idx) {\n\t\t\tlet courseWare = this.datas[1][idx]\n\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../conurse_ware/course_ware?courseWareId=' + courseWare.id\n\t\t\t})\n\t\t},\n\n\t\t// bulletin\n\t\tgetBulletins() {\n\t\t\tlet that = this\n\t\t\tlet idx = this.resourceSelectIndex\n\t\t\tconsole.log(\"getBulletins offset:\", that.offsets[idx], \" data:\", that.datas[idx]);\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet promise = BulletinUtils.listBulletin(\n\t\t\t\t\tthat.course.id,\n\t\t\t\t\tthat.offsets[idx],\n\t\t\t\t\tthat.counts[idx]\n\t\t\t\t);\n\t\t\t\tpromise.then(data => {\n\t\t\t\t\tdata.forEach(e => {\n\t\t\t\t\t\tUtils.dateConverterBatch(e, false, 'createGmt')\n\t\t\t\t\t});\n\n\t\t\t\t\t// 重置字段为van-steps所需的字段\n\t\t\t\t\tdata = data.map(e => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttext: e.content,\n\t\t\t\t\t\t\tdesc: e.createGmt\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\n\t\t\t\t\tresolve(data);\n\t\t\t\t});\n\t\t\t})\n\t\t},\n\n\t\t// 通过课程号获取试卷\n\t\tgetContestsByCourseId() {\n\t\t\tlet that = this\n\t\t\tlet idx = this.resourceSelectIndex\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet promise = ContestUtils.getContestByCourseId(\n\t\t\t\t\tthat.course.id,\n\t\t\t\t\tthat.offsets[idx],\n\t\t\t\t\tthat.counts[idx]\n\t\t\t\t);\n\t\t\t\tpromise.then(data => {\n\t\t\t\t\tdata.forEach(e => {\n\t\t\t\t\t\tUtils.dateConverterBatch(e, false, 'publishDate', 'deadline')\n\t\t\t\t\t});\n\t\t\t\t\tresolve(data);\n\t\t\t\t});\n\t\t\t})\n\t\t},\n\n\t\t// 获取课件\n\t\tgetCourseWare() {\n\t\t\tlet that = this\n\t\t\tlet idx = this.resourceSelectIndex\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet promise = CourseWareUtils.getCourseWareByCourseId(\n\t\t\t\t\tthat.course.id,\n\t\t\t\t\tthat.offsets[idx],\n\t\t\t\t\tthat.counts[idx]\n\t\t\t\t);\n\t\t\t\tpromise.then(data => {\n\t\t\t\t\tdata.forEach(e => {\n\t\t\t\t\t\tUtils.dateConverterBatch(e, false, 'createGmt')\n\t\t\t\t\t});\n\n\t\t\t\t\tresolve(data);\n\t\t\t\t});\n\t\t\t})\n\t\t},\n\n\t\t// 获取课堂\n\t\tgetClass() {\n\t\t\tlet that = this\n\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet promise = ClassUtils.getClassByCourseId(that.course.id);\n\t\t\t\tpromise.then(data => {\n\t\t\t\t\tdata.forEach(e => {\n\t\t\t\t\t\tUtils.dateConverterBatch(e, true, 'createGmt')\n\t\t\t\t\t});\n\n\t\t\t\t\tresolve(data);\n\t\t\t\t});\n\t\t\t})\n\t\t},\n\t},\n\tonLoad(option) {\n\t\t// 传入id\n\t\t// let courseId = 7;\n\t\tthis.userId = parseInt(uni.getStorageSync(LSReference.ID))\n\t\tlet courseId = option.id;\n\t\tif (!courseId) {\n\t\t\tNotify({\n\t\t\t\ttype: \"danger\",\n\t\t\t\tmessage: \"未传入课程号，请刷新重试\"\n\t\t\t});\n\t\t} else {\n\t\t\tlet promise = CourseUtils.getCourse(courseId);\n\t\t\tpromise.then(data => {\n\t\t\t\tconsole.log(\"获取到course\", data);\n\t\t\t\tthis.course = data;\n\n\t\t\t\t// 获取资源栏的内容\n\t\t\t\tthis.changeResourceTab();\n\t\t\t});\n\t\t}\n\t},\n\tonShow() {\n\t\tif (this.refreshOnShow) {\n\t\t\tlet courseId = this.course.id;\n\n\t\t\tlet that = this\n\t\t\tif (!courseId) {\n\t\t\t\tNotify({\n\t\t\t\t\ttype: \"danger\",\n\t\t\t\t\tmessage: \"未传入课程号，请刷新重试\"\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet promise = CourseUtils.getCourse(courseId);\n\t\t\t\tpromise.then(data => {\n\t\t\t\t\tconsole.log(\"获取到course\", data);\n\t\t\t\t\tthat.course = data;\n\n\t\t\t\t\t// 获取资源栏的内容\n\t\t\t\t\tthat.offsets[that.resourceSelectIndex] = 0;\n\t\t\t\t\tthat.datas[that.resourceSelectIndex].splice(0);\n\t\t\t\t\tconsole.log(\"refresh by page\", that.resourceSelectIndex, that.offsets, that.datas);\n\t\t\t\t\tthat.changeResourceTab();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.refreshOnShow = false;\n\t\t}\n\t}\n};\n"],"sourceRoot":""}