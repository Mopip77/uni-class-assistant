<view><view class="on-top"><van-dialog vue-id="3b395460-1" id="van-dialog" bind:__l="__l"></van-dialog><van-notify class="on-top" vue-id="3b395460-2" id="van-notify" bind:__l="__l"></van-notify></view><block wx:if="{{showModal}}"><view class="on-top"><single-submit-popup vue-id="3b395460-3" type="textarea" title="{{modalTitle}}" fieldName="{{modalFieldName}}" placeHolder="{{modalPlaceHolder}}" submitText="{{modalSubmitText}}" contentNullable="{{false}}" contentIsNumber="{{false}}" data-event-opts="{{[['^closeModal',[['closeModal']]],['^successCallBack',[['submitCallBack']]]]}}" bind:closeModal="__e" bind:successCallBack="__e" bind:__l="__l"></single-submit-popup></view></block><l-file class="vue-ref" bind:upSuccess="__e" vue-id="3b395460-4" data-ref="lFile" data-event-opts="{{[['^upSuccess',[['upSuccess']]]]}}" bind:__l="__l"></l-file><view class="course-info"><view class="header"><view class="title">{{''+course.courseName+''}}<view class="course-id">{{'课程号: '+course.id+''}}</view></view><block wx:if="{{course.isTeacher}}"><van-button vue-id="3b395460-5" custom-class="score-cal" square type="danger" data-event-opts="{{[['^tap',[['goToScoreCal']]]]}}" bind:tap="__e" bind:__l="__l" vue-slots="{{['default']}}">分数结算</van-button></block></view><view class="footer"><view class="info">{{''+course.classInfo+''}}</view><view class="user-count"><view><van-icon vue-id="3b395460-6" name="friends-o" custom-style="font-size: 30rpx;margin-right: 10rpx;" bind:__l="__l"></van-icon></view>{{course.memberCount+' 人'}}</view></view></view><view class="func-select-box"><van-grid vue-id="3b395460-7" column-num="{{course.isTeacher?3:2}}" bind:__l="__l" vue-slots="{{['default']}}"><navigator url="{{'../member_list/member_list?courseId='+course.id}}"><van-grid-item vue-id="{{('3b395460-8')+','+('3b395460-7')}}" use-slot bind:__l="__l" vue-slots="{{['default']}}"><image src="../../static/img/members.png"></image><text>成员列表</text></van-grid-item></navigator><navigator url="{{'../topics/topics?courseId='+course.id}}"><van-grid-item vue-id="{{('3b395460-9')+','+('3b395460-7')}}" use-slot bind:__l="__l" vue-slots="{{['default']}}"><image src="../../static/img/chats.png"></image><text>讨论区</text></van-grid-item></navigator><block wx:if="{{course.isTeacher}}"><navigator url="{{'../course_settings/course_settings?courseId='+course.id}}"><van-grid-item vue-id="{{('3b395460-10')+','+('3b395460-7')}}" use-slot bind:__l="__l" vue-slots="{{['default']}}"><image src="../../static/img/icon/settings.png"></image><text>课程设置</text></van-grid-item></navigator></block></van-grid></view><view class="resource-select-box"><view class="label"><view><text>课程资源</text></view><block wx:if="{{course.isTeacher}}"><view><van-button vue-id="3b395460-11" custom-class="button" square type="primary" data-event-opts="{{[['^tap',[['createNewResourceBtn']]]]}}" bind:tap="__e" bind:__l="__l" vue-slots="{{['default']}}">+</van-button></view></block></view><s-tabs vue-id="3b395460-12" effect="true" navPerView="4" value="{{resourceSelectIndex}}" data-event-opts="{{[['^change',[['changeResourceTab']]],['^input',[['__set_model',['','resourceSelectIndex','$event',[]]]]]]}}" bind:change="__e" bind:input="__e" bind:__l="__l" vue-slots="{{['default']}}"><s-tab vue-id="{{('3b395460-13')+','+('3b395460-12')}}" title="公告" bind:__l="__l" vue-slots="{{['default']}}"><view class="list bulletin-list"><van-steps vue-id="{{('3b395460-14')+','+('3b395460-13')}}" custom-class="bulletin-body" desc-class="bulletin-desc" steps="{{datas[0]}}" direction="vertical" bind:__l="__l"></van-steps><uni-load-more vue-id="{{('3b395460-15')+','+('3b395460-13')}}" status="{{onloadingStatuses[0]}}" contentText="{{onloadingTexts[0]}}" data-event-opts="{{[['^clickLoadMore',[['loadMore']]]]}}" bind:clickLoadMore="__e" bind:__l="__l"></uni-load-more></view></s-tab><s-tab vue-id="{{('3b395460-16')+','+('3b395460-12')}}" title="课件" bind:__l="__l" vue-slots="{{['default']}}"><view class="list course-ware-list"><block wx:for="{{datas[1]}}" wx:for-item="courseWare" wx:for-index="idx" wx:key="idx"><view class="item course-ware-item"><van-swipe-cell vue-id="{{('3b395460-17-'+idx)+','+('3b395460-16')}}" right-width="65" async-close bind:__l="__l" vue-slots="{{['default','right']}}"><view class="swipe-cell-field" slot="right" data-event-opts="{{[['tap',[['tryDeleteCourseWare',['$0'],[[['datas.__$n1','',idx,'id']]]]]]]}}" bindtap="__e">删除</view><view data-event-opts="{{[['tap',[['goToCourseWare',[idx]]]]]}}" class="header" bindtap="__e"><view class="display-name">{{courseWare.displayName}}</view><view class="time-box">{{''+courseWare.createGmt+''}}</view></view><view data-event-opts="{{[['tap',[['goToCourseWare',[idx]]]]]}}" class="footer" bindtap="__e"><view class="user-box"><image src="{{courseWare.creator.avatarUrl}}"></image><text>{{courseWare.creator.nickname}}</text></view><block wx:if="{{!courseWare.published}}"><van-tag vue-id="{{('3b395460-18-'+idx)+','+('3b395460-17-'+idx)}}" plain type="primary" bind:__l="__l" vue-slots="{{['default']}}">未发布</van-tag></block></view></van-swipe-cell></view></block><uni-load-more vue-id="{{('3b395460-19')+','+('3b395460-16')}}" status="{{onloadingStatuses[1]}}" contentText="{{onloadingTexts[1]}}" data-event-opts="{{[['^clickLoadMore',[['loadMore']]]]}}" bind:clickLoadMore="__e" bind:__l="__l"></uni-load-more></view></s-tab><s-tab vue-id="{{('3b395460-20')+','+('3b395460-12')}}" title="试卷" bind:__l="__l" vue-slots="{{['default']}}"><view class="list contest-list"><block wx:for="{{datas[2]}}" wx:for-item="contest" wx:for-index="idx" wx:key="idx"><view class="item contest-item"><van-swipe-cell vue-id="{{('3b395460-21-'+idx)+','+('3b395460-20')}}" right-width="65" async-close bind:__l="__l" vue-slots="{{['default','right']}}"><view class="swipe-cell-field" slot="right" data-event-opts="{{[['tap',[['tryDeleteContest',['$0'],[[['datas.__$n2','',idx,'id']]]]]]]}}" bindtap="__e">删除</view><view data-event-opts="{{[['tap',[['goToContest',[idx]]]]]}}" class="header" bindtap="__e"><block wx:if="{{!contest.published}}"><view class="status" style="font-style:italic;color:#E65100;">未发布</view></block><block wx:else><block wx:if="{{contest.status==='未开始'}}"><view class="status" style="color:#607D8B;">未开始</view></block><block wx:else><block wx:if="{{contest.status==='已结束'}}"><view class="status" style="font-style:italic;">已结束</view></block><block wx:else><block wx:if="{{contest.status==='进行中'}}"><view class="status" style="color:red;">进行中</view></block><block wx:else><block wx:if="{{contest.status==='可进行'}}"><view class="status" style="color:#e57373;">可进行</view></block></block></block></block></block><block wx:if="{{contest.published}}"><view class="time-box"><block wx:if="{{contest.publishDate}}"><view class="publish-date">{{"开始时间:"+contest.publishDate}}</view></block><block wx:if="{{contest.deadline}}"><view class="publish-date">{{"截止时间:"+contest.deadline}}</view></block></view></block><block wx:else><view class="class-name">{{contest.className}}</view></block></view><view data-event-opts="{{[['tap',[['goToContest',[idx]]]]]}}" class="footer" bindtap="__e"><view class="user-box"><image src="{{contest.creator.avatarUrl}}"></image><text>{{contest.creator.nickname}}</text><block wx:if="{{course.isTeacher&&contest.status==='已结束'&&!contest.revisedAll}}"><van-tag class="revised" vue-id="{{('3b395460-22-'+idx)+','+('3b395460-21-'+idx)}}" plain type="danger" bind:__l="__l" vue-slots="{{['default']}}">未批完</van-tag></block></view><block wx:if="{{contest.limitMinutes>0}}"><view class="limit-time">{{"限时: "+contest.limitMinutes+"分钟"}}</view></block></view></van-swipe-cell></view></block><uni-load-more vue-id="{{('3b395460-23')+','+('3b395460-20')}}" status="{{onloadingStatuses[2]}}" contentText="{{onloadingTexts[2]}}" data-event-opts="{{[['^clickLoadMore',[['loadMore']]]]}}" bind:clickLoadMore="__e" bind:__l="__l"></uni-load-more></view></s-tab><s-tab vue-id="{{('3b395460-24')+','+('3b395460-12')}}" title="课堂" bind:__l="__l" vue-slots="{{['default']}}"><view class="list class-list"><block wx:for="{{datas[3]}}" wx:for-item="classObj" wx:for-index="idx" wx:key="idx"><view class="item class-item"><van-swipe-cell vue-id="{{('3b395460-25-'+idx)+','+('3b395460-24')}}" right-width="65" async-close bind:__l="__l" vue-slots="{{['default','right']}}"><view class="swipe-cell-field" slot="right" data-event-opts="{{[['tap',[['tryDeleteClass',['$0'],[[['datas.__$n3','',idx,'id']]]]]]]}}" bindtap="__e">删除</view><view data-event-opts="{{[['tap',[['goToClass',[idx]]]]]}}" class="header" bindtap="__e"><block wx:if="{{classObj.published===0}}"><van-tag vue-id="{{('3b395460-26-'+idx)+','+('3b395460-25-'+idx)}}" plain type="primary" bind:__l="__l" vue-slots="{{['default']}}">未发布</van-tag></block><block wx:else><block wx:if="{{classObj.finished===0}}"><van-tag vue-id="{{('3b395460-27-'+idx)+','+('3b395460-25-'+idx)}}" plain type="success" bind:__l="__l" vue-slots="{{['default']}}">进行中</van-tag></block><block wx:else><van-tag vue-id="{{('3b395460-28-'+idx)+','+('3b395460-25-'+idx)}}" plain type="danger" bind:__l="__l" vue-slots="{{['default']}}">已结课</van-tag></block></block><view class="title">{{''+classObj.className+''}}</view></view><view data-event-opts="{{[['tap',[['goToClass',[idx]]]]]}}" class="footer" bindtap="__e"><view class="user-box"><image src="{{classObj.creator.avatarUrl}}"></image><text>{{classObj.creator.nickname}}</text></view><view class="create-date">{{classObj.createGmt}}</view></view></van-swipe-cell></view></block><uni-load-more vue-id="{{('3b395460-29')+','+('3b395460-24')}}" status="{{onloadingStatuses[3]}}" contentText="{{onloadingTexts[3]}}" data-event-opts="{{[['^clickLoadMore',[['loadMore']]]]}}" bind:clickLoadMore="__e" bind:__l="__l"></uni-load-more></view></s-tab></s-tabs></view></view>