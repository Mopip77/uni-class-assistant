<view><block wx:if="{{showAnswerModal}}"><view class="on-cover"><create-answer vue-id="8fe7c054-1" index="{{ACIndex}}" questionType="{{ACQuestionType}}" leftSeconds="{{leftSecond}}" look="{{ACLook}}" revised="{{revised}}" isTeacher="{{isTeacher}}" question="{{ACQuestion}}" answer="{{ACAnswer}}" data-event-opts="{{[['^closeModal',[['closeModal']]],['^successCallback',[['updateAnswers']]]]}}" bind:closeModal="__e" bind:successCallback="__e" bind:__l="__l"></create-answer></view></block><van-notify class="on-top" vue-id="8fe7c054-2" id="van-notify" bind:__l="__l"></van-notify><van-dialog vue-id="8fe7c054-3" id="van-dialog" bind:__l="__l"></van-dialog><block wx:if="{{!published}}"><view class="expired">随堂测试还未发布</view></block><block wx:else><block wx:if="{{leftSecond>=0}}"><view class="count-down-box"><uni-countdown class="on-everything" vue-id="8fe7c054-4" color="black" backgroundColor="#f2f2f2" day="{{0}}" hour="{{0}}" minute="{{0}}" second="{{leftSecond}}" data-event-opts="{{[['^timeup',[['autoSubmitAnswer']]]]}}" bind:timeup="__e" bind:__l="__l"></uni-countdown></view></block><block wx:else><view class="expired">测试已截止</view></block></block><view class="title"><block wx:if="{{!submitted}}"><text>未提交</text></block><block wx:else><block wx:if="{{!revised}}"><text>{{"总分: "+fullScore+" 分"}}</text></block><block wx:else><text>{{"得分: "+gotScore+" / "+fullScore+" 分"}}</text></block></block><view class="my-button-group"><van-button vue-id="8fe7c054-5" custom-class="my-button" plain square type="primary" data-event-opts="{{[['^tap',[['onCancel']]]]}}" bind:tap="__e" bind:__l="__l" vue-slots="{{['default']}}">取消</van-button><block wx:if="{{!isTeacher&&leftSecond>=0}}"><van-button vue-id="8fe7c054-6" disabled="{{leftSecond<0}}" custom-class="my-button" square type="primary" data-event-opts="{{[['^tap',[['submitAnswer']]]]}}" bind:tap="__e" bind:__l="__l" vue-slots="{{['default']}}">提交</van-button></block><block wx:else><block wx:if="{{isTeacher}}"><van-button vue-id="8fe7c054-7" disabled="{{leftSecond>0}}" custom-class="my-button" square type="primary" data-event-opts="{{[['^tap',[['goToRevise']]]]}}" bind:tap="__e" bind:__l="__l" vue-slots="{{['default']}}">批改</van-button></block></block></view></view><block wx:if="{{objectiveQuestions.length!==0}}"><view class="question-box objective-question-box"><view class="header"><view class="sub-title">客观题</view></view><view class="question-list objective-question-list"><block wx:for="{{objectiveQuestions}}" wx:for-item="question" wx:for-index="idx" wx:key="idx"><view data-event-opts="{{[['tap',[['gotoQuestion',[idx,'objective']]]]]}}" class="{{['question-item objective-question-item',objectiveQuestions[idx].answered?'answered':'',revised?objectiveAnswers[idx].score>0?'correct':'error':'']}}" bindtap="__e"><view>{{idx+1}}</view></view></block></view></view></block><block wx:if="{{subjectiveQuestions.length!==0}}"><view class="question-box subjective-question-box"><view class="header"><view class="sub-title">主观题<block wx:if="{{!isTeacher&&leftSecond<0&&!revised}}"><text>（尚未批改）</text></block></view></view><view class="question-list subjective-question-list"><block wx:for="{{subjectiveQuestions}}" wx:for-item="question" wx:for-index="idx" wx:key="idx"><view data-event-opts="{{[['tap',[['gotoQuestion',[idx,'subjective']]]]]}}" class="{{['question-item subjective-question-item',subjectiveQuestions[idx].answered?'answered':'']}}" bindtap="__e"><view>{{idx+1}}</view></view></block></view></view></block></view>